---
title: "운영체제 요약 - 3. 프로세스"
last_modified_at: 2021-01-25
excerpt: ""
categories:
  - operating_system
---

## 1. 프로세스 개념

### 1.1. 프로세스
잡(job)이라고도 불리는 프로세스는 실행 중인 프로그램이다. 
메모리에 올라간 프로세스는, 프로그램 코드를 지닌 텍스트, 전역 변수가 담긴 데이터, 함수 복귀 주소, 로컬 변수 등이 담긴 스택, 동적으로 할당되는 힙이 가지고 있다. 

프로세스 자체가 다른 프로세스를 위한 실행 환경으로 동작할 수 있다. 
JAVA 가상기계(JVM) 안에서 JAVA 프로그램이 실행된다. 

---

### 1.2. 프로세스 상태
프로세스는 실행되면서 그 상태가 변한다. 
운영체제마다 다르지만 프로세스는 다음 상태들 중 하나에 있게 된다. 
어느 한 순간에 한 처리기에는 오직 하나의 프로세스만이 실행된다. 
* 프로세스 생성 중
* 명령어들 실행 중
* 이벤트(신호, 입출력 등)를 기다림
* 처리기에 할당되기를 기다림
* 실행 종료

---

### 1.3. 프로세스 제어 블록(PCB)
프로세스 제어 블록은 프로세스와 연관된 정보를 기록한다. 
* 프로세스 상태
* 프로그램 카운터
* CPU 레지스터들
* CPU 스케줄링 정보
* 메모리 관리 정보
* 회계(accounting) 정보
* 입출력 상태 정보

---

### 1.4. 스레드
프로세스는 한번에 여러 일을 할 수 있는 다수의 실행 스레드를 가질 수 있다. 

---

## 2. 프로세스 스케줄링
프로세스 스케줄러는 CPU에서 실행 가능한 여러 프로세스들 중에서 하나의 프로세스를 선택한다. 

### 2.1. 스케줄링 큐
프로세서들은 다양한 스케줄링 큐에서 대기한다. 
먼저, 메모리에서 처리기를 기다리는 프로세스들은 준비 완료 큐(ready queue)에서 대기한다. 
이후 실행 후 입출력을 기다리거나, 자식 프로세스를 생성하여 이를 기다린 후 어떤 큐에 다시 넣어질 수 있다. 
프로세스는 종료될 때까지 이 주기를 반복한다. 

---

### 2.2. 스케줄러
1. 단기 스케줄러
	* 메모리에서 실행 준비가 완료된 프로세서들 중 하나를 CPU에 할당
	* 실행 간격이 짧고 매우 빠름
2. 장기 스케줄러
	* 디스크에서 메모리로 적재함
	* 실행 빈도수가 적음
	* 입출력과 CPU 중심 프로세스들을 적절하게 선택
	* 사용 되지 않을 수 있음
3. 중기 스케줄러
	* 메모리가 너무 복잡하여, 실행 중인 프로세스를 잠시 디스크로 이동시킴
	* 이를 스와핑이라 부름

---

### 2.3. 문맥 교환(context switch)
CPU가 현재 실행 중인 프로세스를 중단하고 다른 프로세스를 실행하려면, CPU의 현재 상태를 저장해야한다. 
예를 들어, 인터럽트가 걸린 프로세스의 정보를 저장하고, 인터럽트를 마친 후 저장한 값을 사용해 상태를 복구한다. 
이 작업을 문맥 교환이라 하며, 교환 시간동안 다른 유용한 일을 하지 못하기에 이는 순수한 오버헤드이다. 

---

## 3. 프로세스에 대한 연산

### 3.1. 프로세스 생성


 