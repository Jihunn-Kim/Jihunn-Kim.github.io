---
title: "컴퓨터 네트워킹 요약 - 2. 애플리케이션 계층
last_modified_at: 2021-02-18
show_date: true
classes: wide
excerpt: ""
categories:
  - computer_networking
---

## 2.1. 네트워크 애플리케이션의 원리(Principles of Network Applications)
네트워크 애플리케이션 개발의 중심은 다른 종단 시스템에서 동작하고 네트워크를 통해 서로 통신하는 프로그램을 개발하는 것이다. 

새로운 애플리케이션을 개발할 때는 여러 종단 시스템에서 실행 되는 소프트웨어를 작성할 필요가 있다. 
링크 계층 스위치와 같이 네트워크 코어 장비에서 실행되는 소프트웨어를 작성할 필요는 없다. 

### 2.1.1. 네트워크 애플리케이션 구조(Network Application Architectures)
애플리케이션 구조는 네트워크 구조(1장의 다섯 계층 구조)와 다르다. 
애플리케이션 개발자 관점에서 네트워크 구조는 고정되어 있고, 애플리케이션에 특정 서비스 집합을 제공한다. 

애플리케이션 구조에는 두 가지 우수한 구조(클라이언트-서버 구조 혹은 P2P 구조)가 있다. 

클라이언트-서버 구조(client-server architecture)에서 항상 켜져 있는 호스트를 서버라고 부르며, 
이는 클라이언트라 불리는 다른 호스트들의 요청을 처리한다. 
예를 들어, 클라이언트 호스트에서 실행되는 브라우저는 항상 켜진 웹 서버로 서비스를 요청하는 웹 애플리케이션이다. 

하나의 서버 호스트가 많은 클라이언트의 모든 요청에 응답하는 것은 불가능하다. 
따라서 많은 수의 호스트를 갖춘 데이터 센터(data center)가 가상 서버를 생성하는 데 흔히 사용된다. 

P2P구조에서는 데이터 센터에 있는 서버에 최소로 의존한다(혹은 의존하지 않는다). 
대신 애플리케이션은 피어(peer)라는 간헐적으로 연결된 호스트 쌍이 서로 직접 통신하도록 한다. 
피어는 서비스 제공자(service provider)가 소유하지 않고, 사용자들이 제어하는 데스크톱 등이다. 

특정 서버를 통하지 않고 피어가 통신하므로, 이 구조를 피어-투-피어(peer-to-peer, P2P)라고 한다. 
이들 애플리케이션에는 스카이프 등이 있다. 

혹은 두 구조를 결합한 하이브리드 구조를 가진 애플리케이션들(instant messaging applications 등)도 있다. 

### 2.1.2. 프로세스 간 통신(Processes Communicating)
프로세스 간의 통신을 위한 규칙은 종단 시스템의 운영체제에 의해 좌우된다. 
2개의 다른 종단 시스템에서 프로세스는 컴퓨터 네트워크를 통한 메세지 교환으로 서로 통신한다. 
송신 프로세스는 메세지를 만들어서 네트워크로 보낸다. 

#### 2.1.2.1. 클라이언트와 서버 프로세스(Client and Server Processes)
통신하는 프로세스 각 쌍에 대해 일반적으로 클라이언트 프로세스와 서버 프로세스 중 하나로 이름 짓는다. 
웹에서, 브라우저는 클라이언트 프로세스이고, 웹 서버는 서버 프로세스이다. 
P2P 파일 공유에서는, 파일을 내려받는 피어를 클라이언트, 파일을 올리는 피어를 서버라고 한다. 

클라이언트와 서버 프로세스를 다음과 같이 정의할 수 있다. 
<div class="notice--primary">
두 프로세스 간의 통신 세션에서 통신을 초기화(다른 프로세스와 세션을 시작하려고 접속을 초기화)하는 프로세스를 클라이언트라 하고, 
세션을 시작하기 위해 접속을 기다리는 프로세스를 서버라고 한다. 
</div>

#### 2.1.2.2. 프로세스와 컴퓨터 네트워크 사이의 인터페이스(The Interface Between the Process and the Computer Network)
프로세스는 소켓(socket)을 통해 네트워크로 메세지를 보내고 받는다. 
소켓은 호스트의 애플리케이션 계층과 트랜스포트 계층 간의 인터페이스다. 
또한 애플리케이션과 네트워크 사이의 API(Application Programming Interface)라고도 한다. 

애플리케이션 개발자는 소켓의 애플리케이션 계층에 대한 모든 통제권을 갖지만, 
소켓의 트랜스포트 계층에 대한 통제권은 거의 갖지 못한다. 
트랜스포트 계층에 대한 통제는, 트랜스포트 프로토콜의 선택, 버퍼와 세그먼트 크기와 같은 매개변수의 설정 뿐이다. 

#### 2.1.2.3. 프로세스 주소 배정(Addressing Processes)
수신 프로세스를 식별하기 위해, 호스트의 주소와 그 목적지 호스트 내의 수신 프로세스를 명시하는 식별자가 필요하다. 
인터넷에서 호스트는 유일하게 식별되는 IP 주소로 식별된다. 

수신 프로세스(수신 소켓)은 목적지 포트 번호(port number)가 사용된다. 
일부 응용은 특정 포트 번호가 할당된다. 
예를 들어, 웹 서버는 포트 번호 80번으로 식별된다. 

### 2.1.3. 애플리케이션이 이용 가능한 트랜스포트 서비스(Transport Services Available to Applications)

#### 2.1.3.1. 신뢰적 데이터 전송(Reliable Data Transfer)
패킷은 네트워크 내에서 손실될 수 있다. 
예를 들어, 라우터의 버퍼에서 오버플로우(overflow)되거나, 패킷의 비트가 잘못되면 노드에서 버려질 수 있다. 

만약 프로토콜이 보장된 데이터 전송 서비스를 제공한다면 이를 신뢰적 데이터 전송을 제공한다고 한다. 
트랜스포트 계층 프로토콜이 애플리케이션에 제공할 수 있는 한 가지 서비스는 프로세스 간 신뢰적 데이터 전송이다. 

트랜스포트 계층 프로토콜이 신뢰적 데이터 전송을 제공하지 않을 때, 데이터가 수신 프로세스에 도착하지 않을 수 있다. 
이것은 손실 허용 애플리케이션(loss-tolerant application), 즉 어느 정도의 데이터 손실이 있어도 괜찮은 실시간 오디오/비디오 등에서 쓰일 수 있다. 

#### 2.1.3.2. 처리량(Throughput)
트랜스포트 프로토콜이 제공할 수 있는 다른 서비스는 명시된 속도에서 보장된 가용 처리율을 제공한다는 것이다. 
애플리케이션은 r bist/se의 보장된 처리율을 요구할 수 있고, 트랜스포트 프로토콜은 가용한 처리율이 적어도 r bps임을 보장한다. 

처리율 요구 사항을 갖는 애플리케이션은 대역폭 민감 애플리케이션(bandwidth-sensitive application)이라고 한다. 
예를 들어, 인터넷 전화 애플리케이션에게 보장된 처리율을 제공할 수 없다면, 이 애플리케이션은 낮은 속도로 서비스를 처리하거나 포기해야 한다. 

탄력적 요구 애플리케이션(elastic application)은 가용한 처리율을 많으면 많은 대로, 적으면 적은 대로 이용할 수 있다. 
이메일, 파일 전송 등이 융통성 있는 애플리케이션이다. 

#### 2.1.3.3. 시간(Timing)
트랜스포트 계층 프로토콜은 시간 보장(timing guarantee)을 제공할 수 있다. 
수신 소켓에 정해진 시간내에 도착하도록 하는 서비스는 인터넷 전화, 원격회의 등과 같은 실시간 애플리케이션에 매력적이다. 

#### 2.1.3.4. 보안(Security)
트랜스포트 계층 프로토콜은 애플리케이션에 보안 서비스를 제공할 수 있다. 
전송되는 모든 데이터를 암호화할 수 있다. 

### 2.1.4. 인터넷 전송 프로토콜이 제공하는 서비스(Transport Services Provided by the Internet)

#### 2.1.4.1. TCP 서비스(TCP Services)
TCP 서비스 모델은 연결지향형 서비스와 신뢰적인 데이터 전송 서비스를 포함한다. 

**연결지향형 서비스**, 애플리케이션 계층 메세지를 전송하기 전에 TCP는 클라이언트와 서버가 서로 전송 제어 정보를 교환하도록 한다. 
이 핸드셰이킹(handshaking) 과정은 양쪽에 패킷이 곧 도달하니 준비하라고 알려주 는 역활을 한다. 
핸드셰이킹 단계를 지나면, TCP 연결이 두 프로세스의 소켓 사이에 존재한다. 
이 연결은 전이중(full-duplex) 연결이며, 메세지 전송을 마치면 연결을 끊어야 한다. 

**신뢰적인 데이터 전송 서비스**, TCP는 애플리케이션의 한쪽이 바이트 스트림을 소켓으로 전달하면, 이를 손실하거나 중복되지 않게 수신 소켓으로 전달한다. 

#### 2.1.4.2. UDP 서비스(UDP Services)
UDP는 최소의 서비스 모델을 가진 간단한 전송 프로토콜이다. 
UDP는 핸드셰이킹을 하지 않으며, 비신뢰적인 전송 서비스(메세지가 수신 소켓에 도착하는 것을 보장하지 않음)를 제공한다. 
게다가 수신 소켓에 도착하는 메세지들의 순서가 뒤바뀔 수도 있다. 

UDP는 혼잡제어 방식(3장 내용)을 포함하지 않기에, 송신 측이 데이터를 원하는 속도로 하위 계층(네트워크 계층_으로 보낼 수 있다. 

#### 2.1.4.3. 인터넷 트랜스포트 프로토콜이 제공하지 않는 서비스(Services Not Provided by Internet Transport Protocols)
오늘날의 인터넷은 때로 시간-민감(time-sensitive) 애플리케이션들에게 만족스런 서비스를 제공할 수 있으나, 시간 혹은 대역폭 보장을 제공할 수는 없다. 

### 2.1.5. 애플리케이션 계층 프로토콜(Application-Layer Protocols)
애플리케이션 계층 프로토콜은 다른 종단 시스템에서 실행되는 애플리케이션의 프로세스가 서로 메세지를 보내는 방법을 정의한다. 
여러 애플리케이션 계층 프로토콜은 RFC에 명시되어 있다. 
* 메세지 타입(요청, 응답)
* 메세지 타입의 문법(메세지 내부 필드와 필드간 구별 방법)
* 필드에 있는 정보의 의미
* 언제, 어떻게 메세지를 전송하고, 이에 응답하는지에 대한 규칙

애플리케이션 계층 프로토콜은 네트워크 애플리케이션의 한 요소일 뿐이다. 
예를 들어, 웹 애플리케이션은 문서 포맷 표준(HTML), 웹 브라우저(익스플로러 등), 웹 서버(아파티 등) 그리고 웹 애플리케이션 계층 프로토콜(HTTP)을 포함하는 여러 요소들로 구성된다. 
따라서 HTTP는 단지 웹 애플리케이션의 한 요소다. 

### 2.1.6. 이 책에서 다루는 네트워크 애플리케이션(Network Applications Covered in This Book)
웹, 파일 전송, 전자메일, 디렉터리 서비스, 비디오 스트리밍, P2P 애플리케이션을 다룬다. 

## 2.2. 웹과 HTTP
웹은 온-디맨드(on-demand) 방식, 즉 사용자들이 원할 때, 원하는 것을 수신한다. 

### 2.2.1. HTTP 개요(Overview of HTTP)
웹의 애플리케이션 계층 프로토콜인 HTTP(HyperText Transfer Protocol)은 웹의 중심이다. 
클라이언트, 서버 프로그램은 HTTP 메세지를 교환하여 통신한다. 

웹 페이지(web page)는 객체(object)들로 구성된다. 
객체는 단일 URL로 지정할 수 있는 하나의 파일(HTML 파일, 이미지 파일 등)이다. 

대부분의 웹 페이지는 기본 HTML 파일과 여러 객체로 구성된다. 
기본 HTML 파일은 페이지 내부의 다른 객체를 그 객체의 URL로 참조한다. 
각 URL은 객체를 갖고 있는 서버의 호스트 이름과 객체의 경로 이름을 갖고 있다. 
**http://www.test.com/tttt/picture.gif*** 에서 www.test.com 은 호스트 이름이고, /tttt/picture.gif 는 경로 이름이다. 

웹 브라우저(클라이언트라는 용어와 혼용 가능)는 요구한 웹 페이지를 보여주고, 여러 구성 특성을 제공한다. 
서버 측을 구현하는 웹 서버는 URL로 지정할 수 있는 웹 객체를 갖고 있다. 

HTTP는 웹 클라이언트가 웹 서버에게 웹 페이지를 어떻게 요청하는지와 서버가 클라이언트로 어떻게 웹 페이지를 전송하는지를 정의한다. 

HTTP는 TCP를 전송 프로토콜로 사용한다. 
클라이언트는 먼저 서버에 TCP 연결을 시작한다. 
연결





